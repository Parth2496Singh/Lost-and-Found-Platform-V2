{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero-section" style="padding: 60px 0; text-align: center;">
    <h1 style="font-size: 2.7rem; font-weight: 700; letter-spacing: 0.5px; margin-bottom: 15px;">
        Welcome to Lost & Found Platform!
    </h1>
    <p style="font-size: 1.15rem; opacity: 0.9; font-weight: 300; letter-spacing: 0.3px;">
        Report lost items, found items, and claim matches easily.
    </p>
    <div class="d-flex gap-3 mt-4 justify-content-center">
        <button class="hero-btn" id="home-report-lost">Report Lost</button>
        <button class="hero-btn" id="home-report-found">Report Found</button>
    </div>
</section>


<!-- OLD 3 CARDS (original style preserved) -->
<section class="container" style="padding: 40px 0;">
    <div class="cards-section" 
         style="display: flex; justify-content: center; flex-wrap: wrap; gap: 25px;">
        
        <div class="card">
            <h3 style="font-size: 1.4rem; font-weight: 600; letter-spacing: 0.4px;">Lost Items</h3>
            <p style="opacity: 0.8; font-weight: 300;">Quickly report lost items with images and descriptions.</p>
        </div>

        <div class="card">
            <h3 style="font-size: 1.4rem; font-weight: 600; letter-spacing: 0.4px;">Found Items</h3>
            <p style="opacity: 0.8; font-weight: 300;">Report found items to help owners recover them fast.</p>
        </div>

        <div class="card">
            <h3 style="font-size: 1.4rem; font-weight: 600; letter-spacing: 0.4px;">Instant Search</h3>
            <p style="opacity: 0.8; font-weight: 300;">Search through all reports instantly with live results.</p>
        </div>

    </div>
</section>


<!-- HOW IT WORKS -->
<!-- HOW IT WORKS - Redesigned -->
<section class="container" style="padding: 70px 0; text-align: center;">

    <!-- Title -->
    <h2 style="
        font-size: 2.4rem; 
        font-weight: 700; 
        letter-spacing: 0.8px; 
        margin-bottom: 15px;">
        How It Works
    </h2>

    <!-- Subtitle -->
    <p style="
        font-size: 1.2rem; 
        font-weight: 300; 
        opacity: 0.9; 
        margin-bottom: 50px;
        letter-spacing: 0.4px;">
        A simple and fast way to reconnect items with their rightful owners.
    </p>

    <!-- Steps -->
    <div style="
        display: flex; 
        justify-content: center; 
        align-items: flex-start; 
        gap: 50px; 
        flex-wrap: wrap;">

        <!-- Step 1 -->
        <div style="text-align: center; max-width: 240px;">
            <div style="font-size: 50px; margin-bottom: 12px;">üìù</div>
            <h3 style="font-size: 1.4rem; font-weight: 600; margin-bottom: 8px;">1. Report</h3>
            <p style="opacity: 0.85; font-weight: 300;">
                Submit the details of the lost or found item
            </p>
        </div>

        <!-- Connector -->
        <div style="width: 70px; height: 2px; background: #555; margin-top: 35px; display:none;"
             class="hide-on-mobile"></div>

        <!-- Step 2 -->
        <div style="text-align: center; max-width: 240px;">
            <div style="font-size: 50px; margin-bottom: 12px;">üîç</div>
            <h3 style="font-size: 1.4rem; font-weight: 600; margin-bottom: 8px;">2. Match</h3>
            <p style="opacity: 0.85; font-weight: 300;">
                We automatically search for the closest matches instantly
            </p>
        </div>

        <!-- Connector -->
        <div style="width: 70px; height: 2px; background: #555; margin-top: 35px; display:none;"
             class="hide-on-mobile"></div>

        <!-- Step 3 -->
        <div style="text-align: center; max-width: 240px;">
            <div style="font-size: 50px; margin-bottom: 12px;">ü§ù</div>
            <h3 style="font-size: 1.4rem; font-weight: 600; margin-bottom: 8px;">3. Reunite</h3>
            <p style="opacity: 0.85; font-weight: 300;">
                Finalize the match and exchange securely
            </p>
        </div>

    </div>

</section>

<style>
/* Hide the connector lines on smaller screens */
@media (min-width: 768px) {
    .hide-on-mobile {
        display: block !important;
    }
}
</style>


<!-- SMALL SPACER -->
<div style="height: 30px;"></div>



<script>
document.addEventListener("DOMContentLoaded", function() {
    const accessToken = localStorage.getItem("access_token");

    // HERO buttons
    document.getElementById("home-report-lost").addEventListener("click", () => {
        window.location.href = accessToken ? "{% url 'report_lost' %}" : "{% url 'login' %}";
    });

    document.getElementById("home-report-found").addEventListener("click", () => {
        window.location.href = accessToken ? "{% url 'report_found' %}" : "{% url 'login' %}";
    });

    // CLAIM buttons
    document.querySelectorAll(".claim-btn").forEach(btn => {
        btn.addEventListener("click", () => {
            if (!accessToken) {
                window.location.href = "{% url 'login' %}";
                return;
            }
            const itemId = btn.dataset.itemId;
            window.location.href = `/claim/${itemId}/`;
        });
    });
});
</script>

{% endblock %}
